{
    "Dag_etl_ls": {
        "schedule_interval": "30 7 * * *",
        "retries": 2,
        "retry_delay": 15,
        "dagrun_timeout": 30,
        "project_vars": "mts-default-portofolio",
        "project_number": "42887123198",
        "cloud_functions": {
            "cf-customers": {
                "cloud_function_url": "https://{VAR_CF_NAME}-{VAR_PRJ_NUMBER}.us-east1.run.app",
                "cloud_function_dict": {
                    "project_id": "mts-default-portofolio",
                    "secret_id": "bq_customers_access_authorization"
                }
            },
            "cf-products-inventory": {
                "cloud_function_url": "https://{VAR_CF_NAME}-{VAR_PRJ_NUMBER}.us-east1.run.app",
                "cloud_function_dict": {
                    "project_id": "mts-default-portofolio",
                    "secret_id": "bq_products_access_authorization"
                }
            }
        },
        "dataproc_config": {
            "region": "us-east1",
            "project_id": "mts-data-tools",
            "cluster_name": "mts-cluster-dataproc",
            "secret_id": "dataproc_access_authorization",
            "cluster_config": {
                "config_bucket": "bkt-mts-dataproc",
                "gce_cluster_config": {
                    "tags": [
                        "coord-cd53-ae-vd",
                        "gerencia-gd13-analytics-eng-vd",
                        "projeto-exploracao-dados-vd",
                        "vd"
                    ],
                    "service_account_scopes": [
                        "https://www.googleapis.com/auth/cloud-platform",
                        "https://www.googleapis.com/auth/cloud.useraccounts.readonly",
                        "https://www.googleapis.com/auth/devstorage.read_write",
                        "https://www.googleapis.com/auth/logging.write"
                    ],
                    "internal_ip_only": true
                },
                "master_config": {
                    "num_instances": 1,
                    "machine_type_uri": "n1-standard-4",
                    "disk_config": {
                        "boot_disk_type": "pd-ssd",
                        "boot_disk_size_gb": 70,
                        "local_ssd_interface": "SCSI"
                    }
                },
                "worker_config": {
                    "num_instances": 2,
                    "machine_type_uri": "n2-standard-4",
                    "disk_config": {
                        "boot_disk_type": "pd-ssd",
                        "boot_disk_size_gb": 90,
                        "local_ssd_interface": "SCSI"
                    }
                },
                "software_config": {
                    "image_version": "{{dataproc_version}}",
                    "properties": {
                        "dataproc:dataproc.conscrypt.provider.enable": "false",
                        "spark:spark.sql.debug.maxToStringFields": "300",
                        "spark:spark.sql.legacy.parquet.datetimeRebaseModeInWrite": "CORRECTED",
                        "spark:spark.dynamicAllocation.enabled": "true",
                        "spark:spark.dynamicAllocation.minExecutors": "1",
                        "spark:spark.dynamicAllocation.maxExecutors": "2",
                        "spark:spark.memory.fraction": "0.8",
                        "spark:spark.executor.cores": "3",
                        "spark:spark.executor.memory": "12g",
                        "spark:spark.driver.memory": "8g",
                        "spark:spark.driver.cores": "2",
                        "spark:spark.default.parallelism": "6",
                        "hive:hive.optimize.sort.dynamic.partition": "true",
                        "spark-env:SPARK_DAEMON_MEMORY": "1024m",
                        "yarn-env:YARN_NODEMANAGER_HEAPSIZE": "1024",
                        "yarn:yarn.nodemanager.resource.memory-mb": "14336",
                        "yarn:yarn.scheduler.maximum-allocation-mb": "14336",
                        "yarn:yarn.scheduler.minimum-allocation-mb": "2048",
                        "yarn:yarn.timeline-service.enabled": "false"
                    },
                    "optional_components": [
                        "JUPYTER",
                        "DELTA"
                    ]
                },
                "lifecycle_config": {
                    "idle_delete_ttl": 0,
                    "auto_delete_ttl": 0
                }
            }
        }
    }
}
